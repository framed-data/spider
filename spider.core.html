<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>spider.core documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Spider 0.1.5 API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><a href="index.html"><span class="inner">Namespaces</span></a></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>spider</span></div></div></li><li class="depth-2 branch current"><a href="spider.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-2 branch"><a href="spider.request.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>request</span></div></a></li><li class="depth-2"><a href="spider.response.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>response</span></div></a></li></ul></div><div class="sidebar" id="vars"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="spider.core.html#var-accept-dispatcher"><div class="inner"><span>accept-dispatcher</span></div></a></li><li class="depth-1"><a href="spider.core.html#var-content-type-dispatcher"><div class="inner"><span>content-type-dispatcher</span></div></a></li><li class="depth-1"><a href="spider.core.html#var-edn"><div class="inner"><span>edn</span></div></a></li><li class="depth-1"><a href="spider.core.html#var-form-encoded"><div class="inner"><span>form-encoded</span></div></a></li><li class="depth-1"><a href="spider.core.html#var-html"><div class="inner"><span>html</span></div></a></li><li class="depth-1"><a href="spider.core.html#var-json"><div class="inner"><span>json</span></div></a></li><li class="depth-1"><a href="spider.core.html#var-method-dispatcher"><div class="inner"><span>method-dispatcher</span></div></a></li><li class="depth-1"><a href="spider.core.html#var-parse-media-type"><div class="inner"><span>parse-media-type</span></div></a></li><li class="depth-1"><a href="spider.core.html#var-plain"><div class="inner"><span>plain</span></div></a></li><li class="depth-1"><a href="spider.core.html#var-strip-params"><div class="inner"><span>strip-params</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h2 class="anchor" id="top">spider.core</h2><div class="doc"><pre class="plaintext"></pre></div><div class="public anchor" id="var-accept-dispatcher"><h3>accept-dispatcher</h3><div class="usage"><code>(accept-dispatcher ct-map default-handler)</code></div><div class="doc"><pre class="plaintext">Construct a handler function that will dispatch to one of several
sub-handlers depending on the Accept header of the request

Ex:
  (def my-endpoint
    (accept-dispatcher
      {&quot;application/edn&quot; (fn [request] ...)}
      my-not-acceptable-handler))</pre></div></div><div class="public anchor" id="var-content-type-dispatcher"><h3>content-type-dispatcher</h3><div class="usage"><code>(content-type-dispatcher ct-map)</code></div><div class="doc"><pre class="plaintext">Construct a handler function that will dispatch to one of several
sub-handlers depending on the Content-Type of the request.

Ex:
  (def my-endpoint
    (content-type-dispatcher
      {&quot;application/x-www-form-urlencoded&quot; form-handler
       &quot;application/edn&quot; edn-handler}))

Alternatively, you can use predefined aliases:

  (def my-endpoint
    (content-type-dispatcher
      {spider/form-encoded form-handler
       spider/edn edn-handler
       spider/json json-handler}))</pre></div></div><div class="public anchor" id="var-edn"><h3>edn</h3><div class="usage"></div><div class="doc"><pre class="plaintext">The EDN content-type string
</pre></div></div><div class="public anchor" id="var-form-encoded"><h3>form-encoded</h3><div class="usage"></div><div class="doc"><pre class="plaintext">The form-urlencoded content-type string
</pre></div></div><div class="public anchor" id="var-html"><h3>html</h3><div class="usage"></div><div class="doc"><pre class="plaintext">The HTML content-type string
</pre></div></div><div class="public anchor" id="var-json"><h3>json</h3><div class="usage"></div><div class="doc"><pre class="plaintext">The JSON content-type string
</pre></div></div><div class="public anchor" id="var-method-dispatcher"><h3>method-dispatcher</h3><div class="usage"><code>(method-dispatcher method-handler-map)</code></div><div class="doc"><pre class="plaintext">Construct a handler function that will dispatch to one of several
sub-handlers depending on the type of the request

Ex:
  (def my-endpoint
    (method-dispatcher
      {:get my-get-handler
       :post my-post-handler}))</pre></div></div><div class="public anchor" id="var-parse-media-type"><h3>parse-media-type</h3><div class="usage"><code>(parse-media-type s)</code></div><div class="doc"><pre class="plaintext">See RFC 2616 section 3.7 Media Types

Ex:
  (spider/parse-media-type
    &quot;application/x-www-form-urlencoded; charset=UTF-8&quot;)

  {:type &quot;application&quot;
   :subtype &quot;x-www-form-urlencoded&quot;
   :parameter &quot;charset=UTF-8&quot;}</pre></div></div><div class="public anchor" id="var-plain"><h3>plain</h3><div class="usage"></div><div class="doc"><pre class="plaintext">The text/plain content-type string
</pre></div></div><div class="public anchor" id="var-strip-params"><h3>strip-params</h3><div class="usage"><code>(strip-params media-type-str)</code></div><div class="doc"><pre class="plaintext">Return just the type/subtype of a media type string
See RFC 2616 section 3.7 Media Types

Ex:
 (strip-params &quot;application/x-www-form-urlencoded; charset=UTF-8&quot;)
 ; =&gt; &quot;application/x-www-form-urlencoded&quot;</pre></div></div></div></body></html>